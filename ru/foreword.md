# Объектно-ориентированное программирование на Common Lisp
# Руководство программиста по CLOS

Sonya E. Keene 
Symbolics, Inc. 

## Вступление

Объектно-ориентированное программирование на Lisp имеет долгую историю. Исследователи экспериментируют с объектно-ориентированными расширениями Lisp по меньшей мере пятнадцать лет. Идеи Smalltalk были импортированы в Lisp несколько раз. Кроме того, многие люди использовали Lisp для экспериментов с совершенно оригинальными идеями организации объектно-ориентированных программ.

К 1986 году сложилась ситуация "Вавилонской башни". Было доступно несколько объектно-ориентированных расширений Lisp, некоторые из которых довольно широко использовались. Каждый из этих диалектов отличался от всех остальных, иногда важным образом, иногда просто случайно. Расцвет экспериментов и новых идей, безусловно, был хорош, но он привел к практическим проблемам. У академиков были проблемы с общением, потому что они использовали разные диалекты и не могли читать программы друг друга. Разработчики программного обеспечения, заинтересованные в развертывании своих приложений на самых разных платформах, столкнулись с трудностями, поскольку каждая система имела свой язык объектно-ориентированного программирования. Новым разработчикам было трудно выбрать, какой объектно-ориентированный язык реализовать. Короче говоря, сообщество Lisp подвергалось балканизации(раздробленности).

На конференции ACM по Lisp и функциональному программированию летом 1986 года многие пользователи и разработчики Lisp настаивали на том, что пришло время стандартизировать. Сообщество считало, что эксперименты должны продолжаться, но людям нужно что-то практичное, что они могли бы использовать до тех пор, пока экспериментаторы не придумают окончательный объектно-ориентированный язык, если такая вещь может существовать.

Ранее раздавались призывы к стандартизации, но безрезультатно, но к 1986 году сближение эстетических, академических и экономических интересов в пользу стандарта стало неудержимым. На конференции была сформирована специальная группа по стандартизации. Вскоре после этого был сформирован комитет X3J13 по формальной стандартизации Common Lisp, и группа стала его частью. Первоначальная идея состояла в том, чтобы принять один из существующих диалектов в качестве стандарта, но изучение различий между диалектами выявило некоторые интересные факты: многие программисты были страстно привержены конкретному диалекту, который они использовали, и не хотели переключаться, если стандарт не предлагал сопоставимых функций. Хотя ни один из существующих диалектов не содержал всех нужных черт, некоторые из диалектов имели основополагающее единство, если не обращать внимания на поверхностные синтаксические различия, и стремились к одним и тем же идеям с разных сторон. На этом этапе группа решила разработать новый диалект, который объединил бы лучшие черты наиболее популярных существующих диалектов, отбросив при этом функции, которые были плохо определены или недостаточно полезны. Этот диалект будет называться CLOS, объектная система Common Lisp.

Прошедшие с тех пор два года были долгим и странным путешествием, поскольку мы проектировали, экспериментировали, спорили, перепроектировали, вели переговоры, документировали и развивали наше понимание того, каким должно быть объектно-ориентированное программирование. Маловероятно, что кто-то вызвался бы добровольцем, если бы знал, сколько времени займет проект. Тем не менее, большинство людей согласятся, что в результате получается гораздо лучший язык, чем тот, с которого мы начинали. Не каждая стоящая особенность оригинальных диалектов сохраняется в окончательном стандарте, но CLOS является мощным, последовательным, точно, хотя и неофициально, определенным и эффективно реализуемым.

Будучи членом группы CLOS почти с самого начала, Соня приобрела глубокое понимание, которое сослужило ей хорошую службу при написании этой книги. Однако на самом деле это не книга о CLOS. Первое решение, которое ей пришлось принять, заключалось в том, писать ли справочную работу по CLOS или вместо этого обучать тайному искусству объектно-ориентированного программирования, используя CLOS в качестве языка, с помощью которого можно упражняться в этом искусстве. Она выбрала более смелый путь, написав введение в искусство, а не каталог языковых особенностей. Я думаю, что этот выбор привел к появлению книги, которая будет ценна большему количеству людей в течение более длительного времени. Несомненно, это была более сложная книга для написания, но и более увлекательная для чтения.

Природа объектно-ориентированного программирования такова, что оно наиболее выгодно для больших программ, которые написаны несколькими авторами и, как ожидается, прослужат долго. Простота реализации небольшой, простой программы не сильно зависит от используемой методологии программирования, и тот, кто имел дело только с небольшими программами, может не видеть никакого смысла в объектно-ориентированной дисциплине. Однако любой, кто прошел через проектирование, разработку, документирование, тестирование и обслуживание большой программной системы не объектно-ориентированным способом, а затем испытал тот же процесс в объектно-ориентированной системе, поймет, почему существует такой большой интерес к объектно-ориентированному программированию. Это не волшебство, но это хороший метод для организации больших программных систем и придания им понятности.

Являясь введением в искусство объектно-ориентированного программирования, эта книга не претендует на то, чтобы охватить все закоулки этого искусства или описать каждую особенность языка CLOS. Однако программист, который понимает все, что описано в этой книге, приобрел понимание искусства объектно-ориентированного программирования, присущее новичку. Следующим шагом будет применение этих знаний для построения объектно-ориентированных программ "реального мира", начиная с небольших программ размером с примеры в этой книге и заканчивая программами значительного размера. Благодаря опыту человек в конечном итоге овладевает этим искусством, а затем может легко изучить более эзотерические особенности CLOS или другого объектно-ориентированного языка.

Если вы заинтересованы в изучении искусства объектно-ориентированного программирования, эта книга должна помочь вам стать лучшим инженером-программистом, независимо от того, занимаетесь ли вы программированием, документацией, тестированием или менеджментом. Если вы уже практикуете объектно-ориентированное программирование на другом языке, эта книга поможет вам изучить как философию организации программ, так и особенности языка CLOS.

Cambridge, Massachusetts David A. Moon